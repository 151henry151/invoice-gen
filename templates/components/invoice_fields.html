{# Invoice Fields Component #}
<div class="invoice-fields row">
  <div class="form-group col-md-4">
    <label for="date">Invoice Date:</label>
    <input type="date" id="date" name="date" class="form-control" required>
  </div>
  <div class="form-group col-md-4">
    <label for="due_date">Due Date:</label>
    <input type="date" id="due_date" name="due_date" class="form-control" required>
  </div>
  <div class="form-group col-md-4 d-flex align-items-end invoice-number-group" style="flex-direction: column;">
    <label for="invoice_number" class="w-100">Invoice Number:</label>
    <div class="input-group w-100">
      <input type="text" id="invoice_number" name="invoice_number" class="form-control" required>
      <button type="button" id="confirmInvoiceBtn" class="btn btn-success btn-sm ms-2" title="Confirm invoice number" style="width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; border-radius: 0.25rem; align-self: center;">
        <i class="fas fa-check"></i>
      </button>
    </div>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const confirmBtn = document.getElementById('confirmInvoiceBtn');
  if (confirmBtn) {
    confirmBtn.addEventListener('click', function() {
      const invoiceNumber = document.getElementById('invoice_number');
      const date = document.getElementById('date');
      const dueDate = document.getElementById('due_date');
      if (invoiceNumber.value && date.value && dueDate.value) {
        invoiceNumber.readOnly = true;
        date.readOnly = true;
        dueDate.readOnly = true;
        confirmBtn.innerHTML = '<i class="fas fa-pencil-alt"></i>';
        confirmBtn.title = 'Edit invoice fields';
        confirmBtn.classList.remove('btn-success');
        confirmBtn.classList.add('btn-warning');
      } else {
        alert('Please fill in all invoice fields before confirming.');
      }
    });
  }
});
</script>

<style>
.invoice-fields {
  margin-bottom: 20px;
}
.invoice-number-group .input-group {
  align-items: center;
}
</style> 